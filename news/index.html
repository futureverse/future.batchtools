<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • future.batchtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">future.batchtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.2-9979</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/future.batchtools.html">A Future for batchtools</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.futureverse.org/"><span class="fa fas fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages"><li><a class="external-link dropdown-item" href="https://doFuture.futureverse.org">doFuture (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://furrr.futureverse.org">furrr (map-reduce)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.futureverse.org">future</a></li>
    <li><a class="external-link dropdown-item" href="https://future.apply.futureverse.org">future.apply (map-reduce)</a></li>
    <li><a class="dropdown-item" href="https://future.batchtools.futureverse.org">future.batchtools (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.callr.futureverse.org">future.callr (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mirai.futureverse.org">future.mirai (backend)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tests.futureverse.org">future.tests</a></li>
    <li><a class="external-link dropdown-item" href="https://globals.futureverse.org">globals</a></li>
    <li><a class="external-link dropdown-item" href="https://listenv.futureverse.org">listenv</a></li>
    <li><a class="external-link dropdown-item" href="https://parallelly.futureverse.org">parallelly</a></li>
    <li><a class="external-link dropdown-item" href="https://progressr.futureverse.org">progressr</a></li>
    <li><a class="external-link dropdown-item" href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.tools.futureverse.org">future.tools (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://future.mapreduce.futureverse.org">future.mapreduce (experimental)</a></li>
    <li><a class="external-link dropdown-item" href="https://marshal.futureverse.org">marshal (experimental)</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://cloud.r-project.org/package=future.batchtools"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/futureverse/future.batchtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/futureverse/future.batchtools/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="version-development-version">Version (development version)<a class="anchor" aria-label="anchor" href="#version-development-version"></a></h2>
<div class="section level3">
<h3 id="significant-changes-development-version">Significant Changes<a class="anchor" aria-label="anchor" href="#significant-changes-development-version"></a></h3>
<ul><li>
<strong>future.batchtools</strong> now implements the FutureBackend API introduced in <strong>future</strong> 1.40.0 (2025-04-10).</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-development-version">New Features<a class="anchor" aria-label="anchor" href="#new-features-development-version"></a></h3>
<ul><li><p>Batchtools future backends gained argument <code>delete</code> for controlling if and when batchtools futures should be deleted from the file system. Supported values are <code>"on-success"</code>, <code>"never"</code> and <code>"always"</code>. The default value can be set via R option <code>future.batchtools.delete</code>.</p></li>
<li><p>Most types of batchtools future can now be interrupted, including <code>batchtools_multicore</code> and all job-scheduler backends, e.g. <code>batchtools_sge</code> and <code>batchtools_slurm</code>.</p></li>
<li><p>Canceling batchtools futures will now interrupt them by default, if the backend supports it.</p></li>
<li><p>Calling <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan()</a></code> on <code>batchtools_sge</code> and <code>batchtools_slurm</code> reports on the version of the scheduler.</p></li>
<li><p>Printing a batchtools future will show logged output.</p></li>
<li>
<p>Built-in job-script templates:</p>
<ul><li><p>Tidy up built-in template job scripts for Bash, SGE, Slurm and Torque/PBS.</p></li>
<li><p>Add built-in template job scripts for LSF and OpenLava.</p></li>
<li><p>All built-in template job scripts support “as-is” resource specifications via <code>resources[["asis"]]</code>.</p></li>
<li><p>All built-in template job scripts support “environment module” resource specifications via <code>resources[["modules"]]</code>. When specified, corresponding <code>module load &lt;name&gt;</code> entries are injected to the generated job script.</p></li>
<li><p>All built-in template job scripts support “startup” and “shutdown” code resource specifications via <code>resources[["startup"]]</code> and <code>resources[["shutdown"]]</code>. When specified, corresponding lines are injected in the generated job script and the beginning and end, respectively.</p></li>
<li><p>All built-in template job scripts, which are written in Bash, error and exit early, but setting more strict Bash options. This should help with any troubleshooting, especially when getting started.</p></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-development-version">Documentation<a class="anchor" aria-label="anchor" href="#documentation-development-version"></a></h3>
<ul><li><p>Add <code>timeout &lt;runtime&gt; ...</code> to the default <code>batchtools_bash</code> template script to illustrate how to control this runtime via the backend <code>resources</code> argument.</p></li>
<li><p>Add explicit <strong>batchtools</strong> arguments <code>scheduler.latency</code> and <code>fs.latency</code> to batchtools backends, where applicable.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-development-version">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-development-version"></a></h3>
<ul><li>Calling <code><a href="https://future.futureverse.org/reference/value.html" class="external-link">value()</a></code> on a terminated batchtools job could take a very long time before it returned with an error. This was because it read logged output to be part of the error message. When there was no output file, <strong>batchtools</strong> would wait for the file up to <code>fs.latency</code> seconds (default 65 seconds) to give job schedulers and any global file system time to write output to file. Now <strong>future.batchtools</strong> will no longer wait for such files and only read their content if they exists when checked.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-and-defunct-development-version">Deprecated and Defunct<a class="anchor" aria-label="anchor" href="#deprecated-and-defunct-development-version"></a></h3>
<ul><li>R option <code>future.delete</code> is deprecated. Please use new R option <code>future.batchtools.delete</code> instead. For backward compatible reasons, if R option <code>future.delete</code> sets option <code>future.batchtools.delete</code> when the packages is loaded and the latter is not already set. If <code>future.delete</code> is FALSE, then <code>future.batchtools.delete</code> is set to <code>"never"</code>. If <code>future.delete</code> is TRUE, then <code>future.batchtools.delete</code> is set to <code>"on-success"</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.2" id="version-0122">Version 0.12.2<a class="anchor" aria-label="anchor" href="#version-0122"></a></h2><p class="text-muted">CRAN release: 2025-06-06</p>
<div class="section level3">
<h3 id="bug-fixes-0-12-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-2"></a></h3>
<ul><li>Attempts to cancel batchtools futures via <code><a href="https://future.futureverse.org/reference/cancel.html" class="external-link">cancel()</a></code> would result in “Interruption of futures require a backend implementing the FutureBackend API”. Until this package implements the new FutureBackend API of future (&gt;= 1.40.0), any calls to <code><a href="https://future.futureverse.org/reference/cancel.html" class="external-link">cancel()</a></code> will be silently ignored.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.1" id="version-0121">Version 0.12.1<a class="anchor" aria-label="anchor" href="#version-0121"></a></h2><p class="text-muted">CRAN release: 2023-12-20</p>
<div class="section level3">
<h3 id="bug-fixes-0-12-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-1"></a></h3>
<ul><li>
<code>plan(future.batchtools::batchtools_multicore)</code> did not support <code>workers</code> argument being a function.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.0" id="version-0120">Version 0.12.0<a class="anchor" aria-label="anchor" href="#version-0120"></a></h2><p class="text-muted">CRAN release: 2023-02-24</p>
<div class="section level3">
<h3 id="new-features-0-12-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-12-0"></a></h3>
<ul><li><p>Improved performance of batchtools futures by avoiding re-checking the <strong>batchtools</strong> status if the <strong>batchtools</strong> job has already been observed to be resolved. Checking the <strong>batchtools</strong> status is fairly expense, especially since each status check queries a set of files on the file system.</p></li>
<li><p>Improved performance of batchtools futures by making the removal of the <strong>batchtools</strong> registry about 10-15 times faster.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-12-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-0"></a></h3>
<ul><li>
<code><a href="https://future.futureverse.org/reference/run.html" class="external-link">run()</a></code> for <code>BatchtoolsFuture</code> would update the RNG state, if the future would attach packages.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11.0" id="version-0110">Version 0.11.0<a class="anchor" aria-label="anchor" href="#version-0110"></a></h2><p class="text-muted">CRAN release: 2022-12-14</p>
<div class="section level3">
<h3 id="significant-changes-0-11-0">Significant Changes<a class="anchor" aria-label="anchor" href="#significant-changes-0-11-0"></a></h3>
<ul><li><p><code>R_FUTURE_BATCHTOOLS_*</code> environment variables are now only read when the <strong>future.batchtools</strong> package is loaded, where they set the corresponding <code>future.batchtools*</code> option. This is in line with how all packages in the Futureverse works.</p></li>
<li><p>Add <code><a href="https://future.futureverse.org/reference/nbrOfWorkers.html" class="external-link">nbrOfFreeWorkers()</a></code> for batchtools futures.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-11-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-11-0"></a></h3>
<ul><li><p>It is now possible to tweak arguments used by an underlying <code>batchtools::makeClusterFunctionsNnn()</code> function for some of the <code>batchtools_nnn</code> backends, e.g. <code>plan(future.batchtools::batchtools_slurm, scheduler.latency = 60)</code>.</p></li>
<li><p><code>plan(future.batchtools::batchtools_multicore, workers = I(1))</code> overrides the fallback to <code>batchtools_local</code> and forces a single <code>batchtools_multicore</code> worker.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for BatchtoolsFuture now reports on the batchtools configuration file (an R script) and the the batchtools job template file (a shell script) with info on location, file size, and number of lines, if they exist.</p></li>
<li><p><code><a href="https://future.futureverse.org/reference/run.html" class="external-link">run()</a></code> for BatchtoolsFuture now produce an informative BatchtoolsFutureError in case <code><a href="https://batchtools.mlr-org.com/reference/submitJobs.html" class="external-link">batchtools::submitJobs()</a></code> fails, for instance, due to invalid job-scheduler resource specifications.</p></li>
<li><p>Add BatchtoolsFuture subclasses; abstract BatchtoolsUniprocessFuture, abstract BatchtoolsMultiprocessFuture, BatchtoolsInteractiveFuture, BatchtoolsLocalFuture, BatchtoolsMulticoreFuture, BatchtoolsLsfFuture, BatchtoolsOpenLavaFuture, BatchtoolsSGEFuture, BatchtoolsSlurmFuture, BatchtoolsTorqueFuture, and BatchtoolsCustomFuture.</p></li>
<li><p>Add <code>batchtools_bash</code> and BatchtoolsBashFuture to illustrate how to create a basic <code>batchtools_custom</code> future based on a <strong>batchtools</strong> template file <code>bash.tmpl</code> part of the package.</p></li>
<li><p>Add <code>batchtools_ssh</code> and BatchtoolsSSHFuture for creating batchtools futures based on <strong>batchtools</strong> SSH workers created by <code><a href="https://batchtools.mlr-org.com/reference/makeClusterFunctionsSSH.html" class="external-link">batchtools::makeClusterFunctionsSSH()</a></code>.</p></li>
<li><p>Add example template files for SGE and Slurm.</p></li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-0-11-0">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-11-0"></a></h3>
<ul><li>
<code><a href="https://future.futureverse.org/reference/result.html" class="external-link">result()</a></code> for HPC batchtools backends would use a timeout of <code>fs.latency</code> seconds (as set for the cluster functions) when trying to collect the logged output. However, since it has already collected the results, the log file should be available already and there would be no need to have to wait for the log file to appear. Because of this, we temporarily set <code>fs.latency = 1.0</code> (second) timeout for trying to find the log file. This makes a big difference in case the template used a <code>--output=&lt;path&gt;</code> location other than <code>--output=&lt;%= log.file %&gt;</code>. In such cases, the log file would not be found, requiring a full timeout to complete.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-11-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11-0"></a></h3>
<ul><li><p>Using <code>plan(future.batchtools::batchtools_nnn, finalize = FALSE)</code> would give a warning on <code>Detected 1 unknown future arguments: 'finalize'</code>.</p></li>
<li><p>Template files in <code>system.file(package = "future.batchtools", "templates")</code> were not found.</p></li>
<li><p><code><a href="https://future.futureverse.org/reference/run.html" class="external-link">run()</a></code>, <code><a href="https://future.futureverse.org/reference/resolved.html" class="external-link">resolved()</a></code>, and <code><a href="https://future.futureverse.org/reference/result.html" class="external-link">result()</a></code> for <code>BatchtoolsFuture</code> would update the RNG state.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="version-0100">Version 0.10.0<a class="anchor" aria-label="anchor" href="#version-0100"></a></h2><p class="text-muted">CRAN release: 2021-01-04</p>
<div class="section level3">
<h3 id="significant-changes-0-10-0">Significant Changes<a class="anchor" aria-label="anchor" href="#significant-changes-0-10-0"></a></h3>
<ul><li><p>Lazy batchtools futures only creates the internal <strong>batchtools</strong> registry when the future is launched.</p></li>
<li><p>Removed S3 generic functions <code>await()</code>, <code>finished()</code>, and <code>status()</code>, which were functions that were used for internal purposes.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-10-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-10-0"></a></h3>
<ul><li>Document option <code>future.delete</code> and clarify option <code>future.cache.path</code> in <code><a href="../reference/zzz-future.batchtools.options.html">help("future.batchtools.options")</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-0"></a></h3>
<ul><li>If <code><a href="https://future.futureverse.org/reference/run.html" class="external-link">run()</a></code> was called twice for a BatchtoolsFuture, it would not produce a FutureError but only a regular non-classed error.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-and-defunct-0-10-0">Deprecated and Defunct<a class="anchor" aria-label="anchor" href="#deprecated-and-defunct-0-10-0"></a></h3>
<ul><li>Removed S3 generic functions <code>await()</code>, <code>finished()</code>, and <code>status()</code>, which were functions that were used for internal purposes.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="version-090">Version 0.9.0<a class="anchor" aria-label="anchor" href="#version-090"></a></h2><p class="text-muted">CRAN release: 2020-04-14</p>
<div class="section level3">
<h3 id="significant-changes-0-9-0">Significant Changes<a class="anchor" aria-label="anchor" href="#significant-changes-0-9-0"></a></h3>
<ul><li>The default number of workers on HPC environments is now 100. To revert to the previous default of +Inf, see below news entry.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-9-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<ul><li><p>It is now possible to configure the default number of workers on the job queue of an HPC scheduler via either R option <code>future.batchtools.workers</code> or environment variable <code>R_FUTURE_BATCHTOOLS_WORKERS</code>.</p></li>
<li><p>It is now possible to configure the <strong>batchtools</strong> registries that are used by batchtools futures via new argument <code>registry</code> to <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan()</a></code>. This argument should be a named list of parameters recognized by the <strong>batchtools</strong> package, e.g. <code>plan(future.batchtools::batchtools_sge, registry = list(...))</code>. For notable example, see below news entries.</p></li>
<li><p>The default working directory for batchtools futures is the current working directory of R <em>when</em> the batchtools future is created. This corresponds to specifying <code>plan(future.batchtools::batchtools_nnn, registry = list(work.dir = NULL)</code>. Sometimes it is useful to use a explicit working directory that is guaranteed to be available on all workers on a shared file system, e.g. <code>plan(future.batchtools::batchtools_nnn, registry = list(work.dir = "~"))</code>.</p></li>
<li><p>It is possible to control if and how <strong>batchtools</strong> should use file compression for exported globals and results by specifying <strong>batchtools</strong> registry parameter <code>compress</code>. For example, to turn off file compression, use <code>plan(future.batchtools::batchtools_nnn, registry = list(compress = FALSE))</code>.</p></li>
<li><p>The default location of the <code>.future</code> folder can be controlled by R option <code>future.cache.path</code> or environment variable <code>R_FUTURE_CACHE_PATH</code>.</p></li>
<li><p><code><a href="../reference/BatchtoolsMulticoreFutureBackend.html">batchtools_custom()</a></code> and BatchtoolsFuture gained argument <code>conf.file</code>. Using <code>plan(future.batchtools::batchtools_custom)</code> will now use any <strong>batchtools</strong> configuration file (an R script) found on the <code><a href="https://batchtools.mlr-org.com/reference/findConfFile.html" class="external-link">batchtools::findConfFile()</a></code> search path.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-9-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-9-0"></a></h3>
<ul><li>Add <code><a href="../reference/zzz-future.batchtools.options.html">help("future.batchtools.options")</a></code> which descriptions R options and environment variables used specifically by the <strong>future.batchtools</strong> package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.1" id="version-081">Version 0.8.1<a class="anchor" aria-label="anchor" href="#version-081"></a></h2><p class="text-muted">CRAN release: 2019-10-01</p>
<div class="section level3">
<h3 id="bug-fixes-0-8-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-1"></a></h3>
<ul><li>
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for BatchtoolsFuture would produce an error if the underlying <strong>batchtools</strong> Registry was incomplete.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="version-080">Version 0.8.0<a class="anchor" aria-label="anchor" href="#version-080"></a></h2><p class="text-muted">CRAN release: 2019-05-05</p>
<div class="section level3">
<h3 id="new-features-0-8-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-8-0"></a></h3>
<ul><li><p>Setting option <code>future.delete</code> to FALSE will now prevent removal of the <strong>batchtools</strong> registry folders.</p></li>
<li><p>When a <strong>batchtools</strong> job expires, for instance when the scheduler terminates it because the job was running out of its allocated resources, then a BatchtoolsFutureError is produced which by default outputs the tail of the output logged by <strong>batchtools</strong>. The default number of lines displayed from the end is now increased from six to 48 - a number which now can be set via option <code>future.batchtools.expiration.tail</code>.</p></li>
<li><p>Now a more informative error message is produced if a <strong>batchtools</strong> <code>*.tmpl</code> template file was not found.</p></li>
<li><p>Debug messages are now prepended with a timestamp.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-8-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-0"></a></h3>
<ul><li><p>Argument <code>workers</code> could not be a function.</p></li>
<li><p>Argument <code>workers</code> of type character was silently accepted and effectively interpreted as <code>workers = length(workers)</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="version-072">Version 0.7.2<a class="anchor" aria-label="anchor" href="#version-072"></a></h2><p class="text-muted">CRAN release: 2019-01-04</p>
<div class="section level3">
<h3 id="documentation-0-7-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-7-2"></a></h3>
<ul><li>Add a simple <code>example(future_custom)</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-0-7-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-0-7-2"></a></h3>
<ul><li>Made internal code agile to upcoming changes in the <strong>future</strong> package on how a captured error is represented.</li>
</ul></div>
<div class="section level3">
<h3 id="software-quality-0-7-2">Software Quality<a class="anchor" aria-label="anchor" href="#software-quality-0-7-2"></a></h3>
<ul><li>FYI: Every release is tested against one Torque/PBS and one SGE scheduler.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-2"></a></h3>
<ul><li>
<code><a href="https://future.futureverse.org/reference/resolve.html" class="external-link">resolve()</a></code> on a lazy batchtools future would stall and never return.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="version-071">Version 0.7.1<a class="anchor" aria-label="anchor" href="#version-071"></a></h2><p class="text-muted">CRAN release: 2018-07-18</p>
<div class="section level3">
<h3 id="new-features-0-7-1">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-1"></a></h3>
<ul><li>The <code>batchtools_*</code> backends support the handling of the standard output as implemented in <strong>future</strong> (&gt;= 1.9.0).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-1"></a></h3>
<ul><li>A bug was introduced in <strong>future.batchtools</strong> 0.7.0 that could result in <code>Error in readLog(id, reg = reg) : Log file for job with id 1 not available"</code> when using one of the batchtools backends. It occurred when the value was queried. It was observed using <code>batchtools_torque</code> but not when using <code>batchtools_local</code>. This bug was missed because the 0.7.0 release was not tested on an TORQUE/PBS HPC scheduler as it should have.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="version-070">Version 0.7.0<a class="anchor" aria-label="anchor" href="#version-070"></a></h2><p class="text-muted">CRAN release: 2018-05-04</p>
<div class="section level3">
<h3 id="new-features-0-7-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-0"></a></h3>
<ul><li>Argument <code>workers</code> of future strategies may now also be a function, which is called without argument when the future strategy is set up and used as-is. For instance, <code>plan(future.callr::callr, workers = halfCores)</code> where <code>halfCores &lt;- function() { max(1, round(availableCores() / 2)) }</code> will use half of the number of available cores. This is useful when using nested future strategies with remote machines.</li>
</ul></div>
<div class="section level3">
<h3 id="code-refactoring-0-7-0">Code Refactoring<a class="anchor" aria-label="anchor" href="#code-refactoring-0-7-0"></a></h3>
<ul><li>Preparing for futures to gather a richer set of results from batchtools backends.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="version-060">Version 0.6.0<a class="anchor" aria-label="anchor" href="#version-060"></a></h2><p class="text-muted">CRAN release: 2017-09-11</p>
<div class="section level3">
<h3 id="new-features-0-6-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-6-0"></a></h3>
<ul><li><p>If the built-in attempts of <strong>batchtools</strong> for finding a default template file fails, then <code>system("templates", package = "future.batchtools")</code> is searched for template files as well. Currently, there exists a <code>torque.tmpl</code> file.</p></li>
<li><p>A job’s name in the scheduler is now set as the future’s label (requires <strong>batchtools</strong> 0.9.4 or newer). If no label is specified, the default job name is controlled by <strong>batchtools</strong>.</p></li>
<li><p>The period between each poll of the scheduler to check whether a future (job) is finished or not now increases geometrically as a function of number of polls. This lowers the load on the scheduler for long running jobs.</p></li>
<li><p>The error message for expired batchtools futures now include the last few lines of the logged output, which sometimes includes clues on why the future expired. For instance, if a TORQUE/PBS job use more than the allocated amount of memory it might be terminated by the scheduler leaving the message <code>PBS: job killed: vmem 1234000 exceeded limit 1048576</code> in the output.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for BatchtoolsFuture returns the object invisibly.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-6-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-0"></a></h3>
<ul><li><p>Calling <code>future_lapply()</code> with functions containing globals part of non-default packages would when using batchtools futures give an error complaining that the global is missing. This was due to updates in <strong>future</strong> (&gt;= 1.4.0) that broke this package.</p></li>
<li><p><code><a href="../reference/loggedOutput.html">loggedOutput()</a></code> for BatchtoolsFuture would always return NULL unless an error had occurred.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="version-050">Version 0.5.0<a class="anchor" aria-label="anchor" href="#version-050"></a></h2><p class="text-muted">CRAN release: 2017-06-03</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="version-040">Version 0.4.0<a class="anchor" aria-label="anchor" href="#version-040"></a></h2>
<div class="section level3">
<h3 id="new-features-0-4-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li><p>Added <code><a href="../reference/BatchtoolsMulticoreFutureBackend.html">batchtools_custom()</a></code> for specifying batchtools futures using any type of batchtools cluster functions.</p></li>
<li><p><code>batchtools_template(pathname = NULL, type = &lt;type&gt;)</code> now relies on the <strong>batchtools</strong> package for locating the <code>&lt;type&gt;</code> template file.</p></li>
<li><p><code><a href="https://future.futureverse.org/reference/nbrOfWorkers.html" class="external-link">nbrOfWorkers()</a></code> for batchtools futures now defaults to +Inf unless the evaluator’s <code>workers</code> or <code>cluster.functions</code> specify something else.</p></li>
<li><p>Renamed argument <code>pathname</code> to <code>template</code> for <code>batchtools_&lt;tmpl&gt;()</code> functions.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-0"></a></h3>
<ul><li>Under <code>plan(future.batchtools::batchtools_nnn)</code>, when being created futures would produce an error on <code>all(is.finite(workers)) is not TRUE</code> due to an outdated sanity check.</li>
</ul></div>
<div class="section level3">
<h3 id="software-quality-0-4-0">Software Quality<a class="anchor" aria-label="anchor" href="#software-quality-0-4-0"></a></h3>
<ul><li><p>TESTS: Added test of <code>future_lapply()</code> for batchtools backends.</p></li>
<li><p>TESTS: Added optional tests for <code>batchtools_*</code> HPC schedulers listed in environment variable <code>R_FUTURE_TESTS_STRATEGIES</code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="code-refactoring-0-4-0">Code Refactoring<a class="anchor" aria-label="anchor" href="#code-refactoring-0-4-0"></a></h3>
<ul><li>CLEANUP: Package no longer depends on <strong>R.utils</strong>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="version-030">Version 0.3.0<a class="anchor" aria-label="anchor" href="#version-030"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li>The number of jobs one can add to the queues of HPC schedulers is in principle unlimited, which is why the number of available workers for such <code>batchtools_*</code> backends is reported as +Inf. However, as the number of workers is used by <code>future_lapply()</code> to decide how many futures should be used to best partition the elements, this means that <code>future_lapply()</code> will always use one future per element. Because of this, it is now possible to specify <code>plan(future.batchtools::batchtools_nnn, workers = n)</code> where <code>n</code> is the target number of workers.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="version-020">Version 0.2.0<a class="anchor" aria-label="anchor" href="#version-020"></a></h2>
<div class="section level3">
<h3 id="globals-0-2-0">Globals<a class="anchor" aria-label="anchor" href="#globals-0-2-0"></a></h3>
<ul><li>
<strong>batchtools</strong> (&gt;= 0.9.2) now supports exporting objects with any type of names (previously only possible if they mapped to strictly valid filenames). This allowed me to avoid lots of internal workaround code encoding and decoding globals.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="version-010">Version 0.1.0<a class="anchor" aria-label="anchor" href="#version-010"></a></h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9007.</p>
</div>

    </footer></div>





  </body></html>

